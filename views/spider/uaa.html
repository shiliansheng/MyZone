<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>色花堂 SPIDER</title>
    <link rel="stylesheet" href="/static/lib/bootstrap-4.6.2-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/static/css/init.css">
    <link rel="stylesheet" href="/static/css/all.css">
</head>

<body>
    <p hidden active-module="spider" active-category="uaa" id="active-note"></p>
    {{template "base.html" .}}
    {{template "spider/sidenav.html" .}}
    <div class="spider-page">
        <main class="exclude-lside-nav exclude-top-nav pt-3">
            <div class="spider-container data-result" id="spider-uaa">
                <div class="spider-content">
                    <div class="spider-operate">
                        <div class="spider-control">
                            <h4>参数面板</h4>
                            <form id="spider-uaa-form">
                                <div class="form-group">
                                    <label>小说ID列表</label>
                                    <textarea class="form-control small-textarea" name="nids" id="" rows="5"></textarea>
                                </div>
                                <div class="btn-group ml-auto" role="group" aria-label="Basic example">
                                    <button type="button" class="btn btn-primary"
                                        onclick="spiderUaaSubmit()">开始</button>
                                    <button type="button" class="btn btn-primary">暂停</button>
                                    <button type="reset" class="btn btn-primary">重置</button>
                                </div>
                            </form>
                            
                        </div>
                        <div class="spider-msg-list">
                        </div>
                    </div>
                    <div class="spider-overview">
                        <span>正在爬取</span><span id="result-piece-title"></span>
                        <span>总章节数</span><span id="result-piece-chaptercount"></span>
                        <span>记录总数</span><span id="result-piece-count">0</span>
                        <span>爬取进度</span><div class="progress mt-1" style="flex: auto;" id="spider-progress">
                            <div class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0"
                                aria-valuemax="100">0%</div>
                        </div>
                    </div>
                    <div class="spider-result">
                        <table class="table table-hover data-overview">
                            <thead class="thead-light">
                                <tr>
                                    <th scope="col">ID</th>
                                    <th scope="col">名称</th>
                                    <th scope="col">作者</th>
                                    <th scope="col" class="th-datetime">爬取时间</th>
                                </tr>
                            </thead>
                            <tbody>
                                {{range .BookList}}
                                <tr>
                                    <td>{{.Id}}</td>
                                    <td>{{.Title}}</td>
                                    <td>{{.Author}}</td>
                                    <td>{{.Spidertime}}</td>
                                </tr>
                                {{end}}
                            </tbody>
                        </table>
                        <table class="table table-hover result-view">
                            <thead class="thead-light">
                                <tr>
                                    <th scope="col">ID</th>
                                    <th scope="col">章节名称</th>
                                    <th scope="col">内容长度</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <script src="/static/lib/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="/static/lib/bootstrap-4.6.2-dist/js/bootstrap.min.js"></script>
    <script src="/static/js/all.js"></script>
</body>

</html>